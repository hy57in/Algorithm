<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ICT3</title>
  </head>
  <body>
    <script>
      function reachTheEnd(grid, maxTime) {
        let answer = "No";
        let cnt = 0;
        let n = grid.length;
        let m = grid[0].length;
        let dx = [-1, 0, 1, 0];
        let dy = [0, 1, 0, -1];
        let ch = Array.from(Array(n), () => Array(m).fill(0));

        function DFS(x, y) {
          if (x === n - 1 && y === m - 1) {
            if (cnt <= maxTime) {
              answer = "Yes";
            }
          } else {
            for (let i = 0; i < 4; i++) {
              let nx = x + dx[i];
              let ny = y + dy[i];
              if (
                nx >= 0 &&
                nx <= n - 1 &&
                ny >= 0 &&
                ny <= m - 1 &&
                grid[nx][ny] === "." &&
                ch[nx][ny] === 0
              ) {
                ch[nx][ny] = 1;
                cnt++;
                DFS(nx, ny);
                ch[nx][ny] = 0;
              }
            }
          }
        }
        ch[0][0] = 1;
        DFS(0, 0);

        return answer;
      }
      // "..##", "#.##", "#..."
      let grid = [
        "........#....#..#..#....#...#..#.#.#.#.#.#..#.....",
        "..#..#..#.#....#..#.....#......#..##...........##.",
        ".........#.###.##...#.....##......###............#",
        "....##........#..#.#.#......#...#.##.......##.....",
        ".................###...#.#...#......#.#.#.#.#...#.",
        ".........#.....#...........##....#.#.#.##.....##..",
        ".....#.##............#....#......#..#..#...##.....",
        ".#.......###....#.#..##.##.#...##...#........#...#",
        "..#.##..##..........#..........##.....##..........",
        "#.#..##......#.#.#..##.###...#.........###..#...#.",
        ".#..#..............#...#........#..#...#....#..#..",
        "##..#..#........#....#........#...#.#......#.....#",
        "#.#.......#.#..#...###..#..#.##...#.##.......#...#",
        "#.#...#...#.....#....#......##.#.#.........#....#.",
        ".#..........#......##..#....#....#.#.#..#..###....",
        "#.#............#.##..#.##.##......###......#..#..#",
        ".#..#.##...#.#......................#........#....",
        ".....#....#.#..........##.#.#................#....",
        "##............#.#......####...#.........#..##..#..",
        "....#..##..##...#.........##..##....#..#.##...#...",
        ".#........#...#..#...........#.###.....##.....##..",
        ".......#..#..##...#..###.....#..##.........#......",
        "...#......#..#...........###...............#......",
        "...##.###.#.#....#...#..#.#.#....#....#.##.#...#..",
        "..........#.......#..#..#...###....##.....#..#....",
        ".............##.##.#.......#.#....#.......#..#..#.",
        ".......#........#.....#....##...#...#.#...#.#.##..",
        ".....#..#..#........#..#.....#...#.##.#....#...#..",
        "....................#.#...#....###...###...##...#.",
        "##.#.....##.....#..#.#.#...........#.#.##...#..#.#",
        "#...........#....#.##...#.#.....#...#.....#.#.....",
        "..#..##...#........#.##..#.....##.......#...#.#.#.",
        "......#....#...##...........#..#.......#.##.......",
        "......#..#..#.###..........#...#...........#..#...",
        "....#.#..#..#.#.#...#.......#...#.##......#.......",
        "....#.......#..#........#...#.#...#......#.......#",
        ".#....##...#.#..#....#.#.##........#..#.#.........",
        "#....#.......#..##......##...............#..#.##..",
        "...#..##.......#.....#....#...#.#......#..##..###.",
        ".....#...#...#...#...#...#..##...#..#.............",
        "....##......#...#..#...#...#.#....#.....#..#.##...",
        "...##.......#..##.....#........#.#....#...#.......",
        "..#...#....#...#.###......#................#......",
        "...#...###...#..##...###.....................#....",
        ".....#....#....#...#.#.#.##....##......#....##....",
        "...#.###...##.........#..........#.##.#.....#.....",
        "##..#...#.........#.......#......##...........####",
        "...###.#..........#.....#####........#..#.#.#...#.",
        "...#..#.....#..##.##.#.....##...#...#.#.....#...##",
        ".##.......#.##....#............#..................",
        "#.....#.........#.#.........#..###....##...##.....",
        "#....#.....#...#.....#.##...##...####........#....",
        "#...........#..#...#........#.##..##..#...#.#.....",
        "..#.#................#......###..##.#.#...##...#..",
        ".#.#....#..#............#....#......#............#",
        "..#..#...#.#.#...#...........#.......##.#...#.#...",
        "#..........#.....#.....#......#.......#.#...##....",
        ".......#...........#...........#....#............#",
        "...####.#.....#.##.....#.......##.#..#......#.....",
        ".#..#.....#..#......#.............#.#.#..##...#...",
        "..#.#.#.........#...#..#.......#................##",
        ".#..##.#.#...#.............#..#..........#..#...#.",
        "....#........#......#...###..#.#..................",
        "#..#..#.....#.#.#...##....##........#........#....",
        ".....#.#.......##.......#.....#........#..##..#...",
        "#.#.##........#..##.#..#.#...#........#.#......#..",
        "....#.#.#.......#.##.##...##...#..#.###...#.#.#...",
        ".....##.#....#........#....#.#........#.#.#.....#.",
        ".....#..##..#.#....#.......#...#.#.###.........#.#",
        "#.....#.##..#.......###.........#..##..#......##..",
      ];
      let maxTime = 2244;
      console.log(reachTheEnd(grid, maxTime));
    </script>
  </body>
</html>
