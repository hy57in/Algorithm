<!DOCTYPE html>
<html>
  <head>
    <title>Document</title>
  </head>
  <body>
    <script>
      function solution(new_id) {
        let answer = new_id;
        answer = answer.toLowerCase(); // 1단계 : 대문자를 소문자로 치환
        answer = answer.replace(/[^\w.,-_]/g, ""); // 2단계 : 문자, 숫자, _, -, . 제외 제거 (w:문자,숫자,언더바)
        answer = answer.replace(/\.+/g, "."); // 3단계 : . 2개 이상을 . 으로 치환
        if (answer.startsWith(".") === true) {
          answer = answer.replace(".", "");
        }
        if (answer.startsWith(".", answer.length - 1) === true) {
          console.log(answer);
          answer = answer.slice(0, answer.length - 1);
          console.log(answer);
        }
        if (answer === "") {
          answer = answer.replace("", "a");
        }
        if (answer.length >= 16) {
          answer = answer.substring(0, 15);
        }
        if (answer.startsWith(".", answer.length - 1)) {
          answer = answer.slice(0, answer.length - 1);
        }
        while (answer.length < 3) {
          answer += answer.charAt(answer.length - 1);
        }

        return answer;
      }
      console.log(solution("5...5kk*"));
    </script>
  </body>
</html>
