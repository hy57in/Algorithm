<html>

<head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
</head>

<body>
    <script>
        function solution(n, arr) {
            let answer = 0;
            let obj = {};
            let sum = 0;
            let tmp;
            for (let x of arr) {
                tmp = String(x).split("");
                for (let y of tmp) {
                    sum += Number(y);
                }
                obj[x] = sum;
                sum = 0;
                tmp = [];
            }
            // for (let x of arr) {
            //     let max = Number.MIN_SAFE_INTEGER;
            //     let sum_digit = x
            //         .toString()
            //         .split("")
            //         .reduce((a, b) => (a + Number(b), 0));
            //     if (sum_digit > max) {
            //         max = sum_digit;
            //         answer = x;
            //     } else if (sum_digit === max) {
            //         if (x > answer) {
            //             answer = x;
            //         }
            //     }
            // }

            let max = 0;
            let cnt = 0;
            for (let z of arr) {
                if (obj[z] > max) {
                    max = obj[z];
                    answer = z;
                } else if (obj[z] == max) {
                    if (z > answer) answer = z;
                }
            }

            return answer;
        }
        let arr = [128, 460, 603, 40, 521, 137, 123];
        console.log(solution(7, arr));
    </script>
</body>

</html>